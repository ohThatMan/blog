---
layout: default
title: HTTP -- The Protocol Every Web Developer Must Know
category: Articles
---
[原文 part1](http://net.tutsplus.com/tutorials/tools-and-tips/http-the-protocol-every-web-developer-must-know-part-1/)
主要描述Request和Response响应头的信息
[原文 part2](http://net.tutsplus.com/tutorials/tools-and-tips/http-the-protocol-every-web-developer-must-know-part-2/)
文本主要注解原系列第二部分

#HTTPS
HTTPS就是在原有的IP->TCP->HTTP之间，添加一层加密协议SSL或者TLS，变成IP->TCP->SSL/TLS->HTTP

#保持连接
HTTP1.0中，单次传输完成只之后就会关闭连接，传输多个文件就需要多次建立连接，容易造成网络延迟。
HTTP1.1默认保持连接，客户端可以发送`Connection: closed`来告诉服务器不用保持该连接(可用telnet调试验证)

#cache Control Heahers
##Document Expiration
使用Cache-Control(HTTP/1.1)和<del>Expires(HTTP/1.0)</del>响应头，Expires设定过期的绝对日期，只有当服务器和客户
端时间完全相同才准确，并不实用。Cache-Control则通过`max-age=<s>`设定相对日期，指定多少秒之后过期。
Cache-Control的其他属性：

+ no-cache: 客户端可以缓存，但是每次都要进行revalidate，和HTTP/1.0中的`Pragma: no-cache`一样
+ no-store: 客户端不缓存
+ must-revalidate: 相比no-cache，当无法进行validate（比如连接不上服务器时），不准使用cache

##Server Revalidation
当使用Document Expiration的文档过期之后，需要向服务器缺认是否文件有变动（Revalidation确保
了缓存的文件是最新的，结合Document Expiration避免每次都进行Revalidation）
使用`If-Modified-Since`请求响应头时，基于时间来进行判断，服务器返回`Last-Modified`，
使用`If-None-Match`请求响应头时，基于Entity-Tags（内容的一个hash），服务器返回带Etag的响应头



