---
layout: default
title: NodeJS学习笔记
category: web
tags: 
  NodeJS
---

#console最大输出3层
今天打算实现一个nodejs的脚本，用于将项目中不再使用的图片清理出去，在用console.log查看输出结果的时候，发现深层的目录直接输出为[object]，开始还以为是递归程序出问题了，排查了下发现程序并没有出现问题。观察输出的格式终于得道了：当一个对象过深时，不再自动展开该对象内容，而是**直接输出对象的类型替代**


#fs.watch模块的坑
+ 如果是监视一个文件目录的话，默认并不递归，也就是只能监视一个目录下面的文件变动，子目录的变动不会有反映
+ 被监视的文件目录本身发生变化（比如重命名），也会触发rename事件，且返回的文件名始终是该目录名。目录内假如也有该名字的文件夹，重命名时也会触发rename事件，区别在于**父目录的rename只触发一次，即原始文件名，子目录的rename触发两次，原始文件名和新文件名**
